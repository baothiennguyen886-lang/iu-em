balloon.style.width = size + 'px';
  balloon.style.height = size * 1.3 + 'px';

  const colors = ['#ff6b81', '#ffb6c1', '#ffffff'];
  balloon.style.background = colors[Math.floor(Math.random() * colors.length)];

  balloon.style.left = Math.random() * 100 + 'vw';
  balloon.style.animationDuration = (Math.random() * 5 + 5) + 's';

  document.body.appendChild(balloon);
  setTimeout(() => balloon.remove(), 10000);
}
setInterval(createBalloon, 600);

// ================== HIỆU ỨNG ĐÁNH MÁY ==================
function typeWriter(text, element, speed = 35) {
  let i = 0;
  element.innerHTML = "";

  function typing() {
    if (i < text.length) {
      if (text[i] === "\n") {
        element.innerHTML += "<br>";
      } else {
        element.innerHTML += text[i];
      }
      i++;
      setTimeout(typing, speed);
    }
  }
  typing();
}

// ================== PHÁO HOA ==================
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth;
canvas.height = innerHeight;

function startFireworks() {
  setInterval(() => {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let i = 0; i < 80; i++) {
      ctx.beginPath();
      ctx.arc(
        Math.random() * canvas.width,
        Math.random() * canvas.height / 2,
        Math.random() * 3,
        0, Math.PI * 2
      );
      ctx.fillStyle = `hsl(${Math.random() * 360},100%,70%)`;
      ctx.fill();
    }
  }, 500);
}

// ================== NHẠC ==================
function playMusic() {
  document.getElementById('music').contentWindow.postMessage(
    '{"event":"command","func":"playVideo","args":""}', '*'
  );
}

// ================== SỰ KIỆN BẤM ==================
document.getElementById('special-balloon').onclick = () => {
  document.getElementById('letter').style.display = 'block';
  startFireworks();
  playMusic();
  typeWriter(letterText, document.getElementById('typewriter'), 35);
};
</script>

</body>
</html>